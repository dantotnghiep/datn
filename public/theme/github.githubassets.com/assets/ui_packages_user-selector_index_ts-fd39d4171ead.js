"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["ui_packages_user-selector_index_ts"],{70300:(e,t,s)=>{s.d(t,{T:()=>w});var r=s(74848),l=s(21728),a=s(62456),i=s(38621),n=s(75177),o=s(89323),c=s(8338),d=s(67138),h=s(46309),m=s(63867),u=s(65481),p=s(96540),x=s(88764);let g=p.memo(function(e){let t,s,i,n,o;let d=(0,l.c)(17),{user:h,isCurrent:m,onSelect:u,shouldSetAsDiv:p}=e,x=p?"div":"li";d[0]!==u||d[1]!==h?(t=()=>{u&&u(h)},d[0]=u,d[1]=h,d[2]=t):t=d[2];let g=h.primaryAvatarUrl;return d[3]!==h.path?(s=h.path.startsWith("/apps/"),d[3]=h.path,d[4]=s):s=d[4],d[5]!==s||d[6]!==h.primaryAvatarUrl?(i=(0,r.jsx)(c.l.LeadingVisual,{children:(0,r.jsx)(a.r,{src:g,square:s})}),d[5]=s,d[6]=h.primaryAvatarUrl,d[7]=i):i=d[7],d[8]!==h.name?(n=(0,r.jsx)(c.l.Description,{truncate:!0,children:h.name}),d[8]=h.name,d[9]=n):n=d[9],d[10]!==m||d[11]!==x||d[12]!==t||d[13]!==i||d[14]!==n||d[15]!==h.login?(o=(0,r.jsxs)(c.l.Item,{as:x,selected:m,onSelect:t,children:[i,h.login,n]}),d[10]=m,d[11]=x,d[12]=t,d[13]=i,d[14]=n,d[15]=h.login,d[16]=o):o=d[16],o});try{g.displayName||(g.displayName="UserItem")}catch{}function y(e){let t;let s=(0,l.c)(2);return s[0]!==e?(t=e.users.length>20?(0,r.jsx)(f,{...e}):(0,r.jsx)(j,{...e}),s[0]=e,s[1]=t):t=s[1],t}function j(e){let t,s,a;let i=(0,l.c)(12),{users:o,currentUser:c,onSelect:d,sx:h}=e;if(i[0]!==h?(t={maxHeight:330,overflowY:"auto",...h},i[0]=h,i[1]=t):t=i[1],i[2]!==c?.login||i[3]!==d||i[4]!==o){let e;i[6]!==c?.login||i[7]!==d?(e=e=>(0,r.jsx)(g,{user:e,isCurrent:e.login===c?.login,onSelect:d},e.login),i[6]=c?.login,i[7]=d,i[8]=e):e=i[8],s=o.map(e),i[2]=c?.login,i[3]=d,i[4]=o,i[5]=s}else s=i[5];return i[9]!==t||i[10]!==s?(a=(0,r.jsx)(n.A,{sx:t,children:s}),i[9]=t,i[10]=s,i[11]=a):a=i[11],a}function f(e){let t,s,a;let i=(0,l.c)(9),{users:n,currentUser:o,onSelect:c,sx:d}=e;return i[0]!==d?(t={maxHeight:330,overflowY:"auto",...d},i[0]=d,i[1]=t):t=i[1],i[2]!==o?.login||i[3]!==c?(s=e=>(0,r.jsx)(g,{user:e,isCurrent:e.login===o?.login,onSelect:c,shouldSetAsDiv:!0},e.login),i[2]=o?.login,i[3]=c,i[4]=s):s=i[4],i[5]!==t||i[6]!==s||i[7]!==n?(a=(0,r.jsx)(x.F,{items:n,itemHeight:33,sx:t,makeKey:N,renderItem:s}),i[5]=t,i[6]=s,i[7]=n,i[8]=a):a=i[8],a}function N(e){return e.login}try{y.displayName||(y.displayName="UsersList")}catch{}try{j.displayName||(j.displayName="FullUsersList")}catch{}try{f.displayName||(f.displayName="VirtualUsersList")}catch{}var v=s(13080);function w(e){var t;let s,d,h,m,u,x,g,j,f,N,w,L,A,F,T,I,k,W,D,z;let V=(0,l.c)(59),{defaultText:B,usersState:H,currentUser:O,onSelect:q,hotKey:Y,onOpenChange:E,renderCustomFooter:G,size:K,showTypedInUser:P,width:Z,label:J}=e,M=void 0!==P&&P,Q=void 0===Z?"large":Z,R=void 0===J?"":J,[X,$]=(0,p.useState)("");V[0]!==X||V[1]!==M||V[2]!==H.users?(s=function(e,t){if(!e)return[];let s=t.trim().toLowerCase();return s?e.filter(e=>e.login.toLowerCase().includes(s)||e.name?.toLowerCase().includes(s)):e}(H.users,X),d=M&&(t=s,!!X&&(0===t.length||t.length>1||1===t.length&&!!t[0]&&t[0].login.toLowerCase()!==X.toLowerCase())),V[0]=X,V[1]=M,V[2]=H.users,V[3]=s,V[4]=d):(s=V[3],d=V[4]);let ee=d,et=0===s.length&&!ee;return h=!H.loading&&!H.error&&et,V[5]!==h?(m=()=>{h&&(0,v.i)("Nothing to show")},V[5]=h,V[6]=m):m=V[6],V[7]!==h||V[8]!==X?(u=[h,X],V[7]=h,V[8]=X,V[9]=u):u=V[9],(0,p.useEffect)(m,u),V[10]!==h||V[11]!==E?(x=e=>{E&&E(e),h&&(0,v.i)("Nothing to show")},V[10]=h,V[11]=E,V[12]=x):x=V[12],V[13]!==O?(g=(0,r.jsx)("div",{className:"mr-2",children:O?(0,r.jsx)(a.r,{size:16,src:O.primaryAvatarUrl,square:O.path.startsWith("/apps/")}):(0,r.jsx)(i.PeopleIcon,{size:"small",className:"fgColor-muted"})}),V[13]=O,V[14]=g):g=V[14],V[15]===Symbol.for("react.memo_cache_sentinel")?(j={maxWidth:125,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},V[15]=j):j=V[15],V[16]!==O||V[17]!==B||V[18]!==R?(f=(0,r.jsx)(n.A,{sx:j,children:O?(0,r.jsxs)("span",{children:[R,O.login]}):(0,r.jsx)("span",{children:B})}),V[16]=O,V[17]=B,V[18]=R,V[19]=f):f=V[19],V[20]!==f||V[21]!==g?(N=(0,r.jsxs)("div",{className:"d-flex",children:[g,f]}),V[20]=f,V[21]=g,V[22]=N):N=V[22],V[23]!==Y||V[24]!==K||V[25]!==N?(w=(0,r.jsx)(o.W.Button,{"data-hotkey":Y,size:K,"data-testid":"user-selector-button",children:N}),V[23]=Y,V[24]=K,V[25]=N,V[26]=w):w=V[26],V[27]!==X?(L=(0,r.jsx)(S,{defaultText:X,onFilterChange:$}),V[27]=X,V[28]=L):L=V[28],V[29]===Symbol.for("react.memo_cache_sentinel")?(A=(0,r.jsx)(c.l.Divider,{}),V[29]=A):A=V[29],V[30]!==X||V[31]!==q||V[32]!==ee||V[33]!==et||V[34]!==H.error||V[35]!==H.loading?(F=H.loading?(0,r.jsx)(_,{}):H.error?(0,r.jsx)(b,{}):(0,r.jsxs)(r.Fragment,{children:[et&&(0,r.jsx)(U,{}),ee&&(0,r.jsx)(C,{filterText:X,onSelect:q})]}),V[30]=X,V[31]=q,V[32]=ee,V[33]=et,V[34]=H.error,V[35]=H.loading,V[36]=F):F=V[36],V[37]!==O||V[38]!==s||V[39]!==q||V[40]!==G?(T=s.length>0&&(0,r.jsx)(y,{users:s,currentUser:O,onSelect:q,sx:G?{pb:"10px",pt:1}:{pt:1}}),V[37]=O,V[38]=s,V[39]=q,V[40]=G,V[41]=T):T=V[41],V[42]!==G?(I=G&&(0,r.jsx)(c.l.Divider,{sx:{marginTop:0}}),V[42]=G,V[43]=I):I=V[43],V[44]!==G?(k=G?.(),V[44]=G,V[45]=k):k=V[45],V[46]!==L||V[47]!==F||V[48]!==T||V[49]!==I||V[50]!==k?(W=(0,r.jsxs)(c.l,{showDividers:!0,selectionVariant:"single",children:[L,A,F,T,I,k]}),V[46]=L,V[47]=F,V[48]=T,V[49]=I,V[50]=k,V[51]=W):W=V[51],V[52]!==W||V[53]!==Q?(D=(0,r.jsx)(o.W.Overlay,{width:Q,children:W}),V[52]=W,V[53]=Q,V[54]=D):D=V[54],V[55]!==w||V[56]!==D||V[57]!==x?(z=(0,r.jsx)("div",{children:(0,r.jsxs)(o.W,{onOpenChange:x,children:[w,D]})}),V[55]=w,V[56]=D,V[57]=x,V[58]=z):z=V[58],z}function S(e){let t,s,a,n;let o=(0,l.c)(7),{onFilterChange:h,defaultText:m}=e;return o[0]===Symbol.for("react.memo_cache_sentinel")?(t={px:2},o[0]=t):t=o[0],o[1]===Symbol.for("react.memo_cache_sentinel")?(s={width:"100%"},o[1]=s):s=o[1],o[2]!==h?(a=e=>h(e.target.value),o[2]=h,o[3]=a):a=o[3],o[4]!==m||o[5]!==a?(n=(0,r.jsx)(c.l.Group,{sx:t,children:(0,r.jsx)(d.A,{leadingVisual:i.SearchIcon,value:m,sx:s,placeholder:"Find a user...",onChange:a})}),o[4]=m,o[5]=a,o[6]=n):n=o[6],n}function _(){let e;let t=(0,l.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,r.jsx)(h.B,{justify:"center",className:"p-2",children:(0,r.jsx)(m.A,{size:"medium",srText:"Loading users..."})}),t[0]=e):e=t[0],e}function b(){let e;let t=(0,l.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,r.jsx)(u.A,{variant:"danger",children:"Could not load users"}),t[0]=e):e=t[0],e}function U(){let e;let t=(0,l.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,r.jsx)(h.B,{justify:"center",className:"p-3",children:"Nothing to show"}),t[0]=e):e=t[0],e}function C(e){let t,s,a,i;let n=(0,l.c)(9),{filterText:o,onSelect:d}=e;return n[0]===Symbol.for("react.memo_cache_sentinel")?(t={display:"flex",justifyContent:"center",mb:2},n[0]=t):t=n[0],n[1]!==o||n[2]!==d?(s=()=>{d&&d({login:o,name:o,path:"",primaryAvatarUrl:""})},n[1]=o,n[2]=d,n[3]=s):s=n[3],n[4]!==o?(a=(0,r.jsxs)(r.Fragment,{children:["Filter on author\xa0",(0,r.jsx)("span",{className:"text-bold",children:o})]}),n[4]=o,n[5]=a):a=n[5],n[6]!==s||n[7]!==a?(i=(0,r.jsx)(c.l.Item,{sx:t,onSelect:s,children:a}),n[6]=s,n[7]=a,n[8]=i):i=n[8],i}try{w.displayName||(w.displayName="UserSelector")}catch{}try{S.displayName||(S.displayName="UserFilter")}catch{}try{_.displayName||(_.displayName="Loading")}catch{}try{b.displayName||(b.displayName="LoadingFailed")}catch{}try{U.displayName||(U.displayName="UsersZeroState")}catch{}try{C.displayName||(C.displayName="UsersTypedInUser")}catch{}}}]);
//# sourceMappingURL=ui_packages_user-selector_index_ts-ba8977f04647.js.map